# Deep-Dive Validation Analysis

**ML Force Field Distiller - Student Model Validation**

Date: 2025-11-24

---

## Structure Overview

- **Number of atoms**: 22
- **Elements**: C, N, O
- **Cell**: [[0.0, 0.0, 0.0], [0.0, 0.0, 0.0], [0.0, 0.0, 0.0]]
- **PBC**: [False, False, False]

## Energy Predictions

| Metric | Value |
|--------|-------|
| True Energy | -158.8945 eV |
| Predicted Energy | -158.4019 eV |
| Absolute Error | 0.4926 eV |
| Error per Atom | 22.39 meV/atom |
| Relative Error | 0.31% |

## Force Predictions - Overall Statistics

| Metric | Value |
|--------|-------|
| Mean RMSE | 0.8733 eV/Ã… |
| Median RMSE | 0.7690 eV/Ã… |
| Std Dev RMSE | 0.6773 eV/Ã… |
| Max RMSE | 2.8549 eV/Ã… |
| Min RMSE | 0.0903 eV/Ã… |

## Force Predictions - Component Analysis

| Component | MAE (eV/Ã…) | RMSE (eV/Ã…) | Max Error (eV/Ã…) |
|-----------|------------|-------------|------------------|
| X | 0.4839 | 0.6335 | 1.3423 |
| Y | 0.5264 | 0.8476 | 2.6277 |
| Z | 0.2737 | 0.3188 | 0.7627 |

## Force Predictions - By Element Type

| Element | Count | Mean RMSE (eV/Ã…) | Std Dev (eV/Ã…) | Mean Angular Error (Â°) | Max Angular Error (Â°) |
|---------|-------|------------------|----------------|----------------------|---------------------|
| C | 19 | 0.8033 | 0.6166 | 15.73 | 58.97 |
| N | 1 | 1.0558 | 0.0000 | 10.10 | 10.10 |
| O | 2 | 1.4465 | 1.0209 | 28.89 | 38.51 |

## Directional Accuracy

| Metric | Value |
|--------|-------|
| Mean Angular Error | 16.67Â° |
| Median Angular Error | 6.72Â° |
| Max Angular Error | 58.97Â° |
| Atoms with <5Â° error | 10 / 22 (45.5%) |
| Atoms with <10Â° error | 12 / 22 (54.5%) |
| Atoms with <30Â° error | 16 / 22 (72.7%) |

## Top 10 Worst Force Predictions

| Rank | Atom Index | Element | Position (Ã…) | RMSE (eV/Ã…) | Angular Error (Â°) |
|------|------------|---------|--------------|-------------|------------------|
| 1 | 14 | C | (2.13, -2.03, -0.84) | 2.8549 | 58.97 |
| 2 | 18 | O | (2.19, -0.71, -0.57) | 2.4674 | 38.51 |
| 3 | 11 | C | (-0.41, -0.64, -0.60) | 1.3769 | 6.78 |
| 4 | 16 | C | (-2.63, -0.41, -0.94) | 1.3448 | 28.03 |
| 5 | 6 | C | (-5.01, -1.20, -2.16) | 1.2214 | 6.67 |
| 6 | 17 | C | (1.01, -2.41, -1.75) | 1.1352 | 35.02 |
| 7 | 8 | N | (-1.51, -0.01, -0.36) | 1.0558 | 10.10 |
| 8 | 10 | C | (4.49, 1.56, 4.11) | 0.9176 | 0.44 |
| 9 | 13 | C | (-2.63, -1.49, -1.82) | 0.8869 | 4.38 |
| 10 | 19 | C | (-3.85, -1.88, -2.42) | 0.8219 | 30.95 |

## Visualization Files

Generated files:
- `error_distribution.png` - Distribution of per-atom errors
- `force_correlations.png` - Correlation between predicted and true forces
- `spatial_errors.png` - Spatial distribution of force errors
- `structure.pdb` - Structure file for PyMOL
- `visualize_forces.pml` - PyMOL script to visualize force vectors
- `force_visualization.pse` - PyMOL session file (if PyMOL is installed)

### PyMOL Visualization

To view the force vectors:
```bash
cd /home/aaron/ATX/software/MLFF_Distiller/validation_analysis
pymol visualize_forces.pml
```

**Color coding:**
- ðŸŸ¢ **Green arrows**: True forces from teacher model
- ðŸ”´ **Red arrows**: Predicted forces from student model
- ðŸŸ¡ **Yellow arrows**: Error vectors (5x scaled for visibility)

---

**Generated by ML Force Field Distiller validation pipeline**
